<% content_for :title, "Bail - Appartement T3" %>

<div class="min-h-screen bg-olak-gray py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="mb-6">
      <%= link_to tenant_leases_path, class: "text-olak-primary hover:text-olak-primary-dark font-semibold flex items-center gap-2" do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        Retour aux baux
      <% end %>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      
      <!-- Main Content -->
      <div class="lg:col-span-2 space-y-6">
        
        <!-- Lease Header -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <div class="flex items-start justify-between mb-6">
            <div>
              <h1 class="text-4xl font-bold text-olak-primary-dark mb-2">Contrat de location</h1>
              <p class="text-xl text-gray-700 font-semibold">Appartement T3 - Paris 15ème</p>
              <p class="text-sm text-gray-600 mt-1">Bail n° #{params[:id] || '1'} • Type: Location meublée</p>
            </div>
            <span class="badge badge-success text-lg px-4 py-2">Actif</span>
          </div>
          
          <!-- Signature Timeline -->
          <div class="bg-olak-gray p-6 rounded-lg">
            <h3 class="text-lg font-semibold text-olak-dark mb-4">Statut des signatures</h3>
            
            <div class="relative">
              <!-- Timeline Line -->
              <div class="absolute left-4 top-8 bottom-8 w-0.5 bg-olak-success"></div>
              
              <!-- Step 1: Lease Generated -->
              <div class="relative flex items-start mb-6">
                <div class="flex items-center justify-center w-8 h-8 rounded-full bg-olak-success text-white font-bold flex-shrink-0 z-10">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div class="ml-4">
                  <p class="font-semibold text-olak-dark">Bail généré</p>
                  <p class="text-sm text-gray-600">14 novembre 2024</p>
                </div>
              </div>
              
              <!-- Step 2: Owner Signed -->
              <div class="relative flex items-start mb-6">
                <div class="flex items-center justify-center w-8 h-8 rounded-full bg-olak-success text-white font-bold flex-shrink-0 z-10">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div class="ml-4">
                  <p class="font-semibold text-olak-dark">Signé par le propriétaire</p>
                  <p class="text-sm text-gray-600">15 novembre 2024 à 14:30</p>
                </div>
              </div>
              
              <!-- Step 3: Tenant Signed -->
              <div class="relative flex items-start">
                <div class="flex items-center justify-center w-8 h-8 rounded-full bg-olak-success text-white font-bold flex-shrink-0 z-10">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div class="ml-4">
                  <p class="font-semibold text-olak-dark">Signé par vous</p>
                  <p class="text-sm text-gray-600">18 novembre 2024 à 10:15</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Property Information -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <h2 class="text-2xl font-semibold text-olak-dark mb-6">Informations du bien</h2>
          <dl class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <dt class="text-gray-600 mb-1">Adresse</dt>
              <dd class="font-medium text-olak-dark">45 Avenue des Champs-Élysées</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Ville</dt>
              <dd class="font-medium text-olak-dark">75008 Paris</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Type de bien</dt>
              <dd class="font-medium text-olak-dark">Appartement T3</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Surface</dt>
              <dd class="font-medium text-olak-dark">65 m²</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Nombre de pièces</dt>
              <dd class="font-medium text-olak-dark">3 pièces</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Type de location</dt>
              <dd><span class="badge badge-furnished">Meublé</span></dd>
            </div>
          </dl>
        </div>

        <!-- Landlord Information -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <h2 class="text-2xl font-semibold text-olak-dark mb-6">Informations du propriétaire</h2>
          <dl class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <dt class="text-gray-600 mb-1">Nom complet</dt>
              <dd class="font-medium text-olak-dark">M. Jean Dupont</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Email</dt>
              <dd class="font-medium text-olak-dark">jean.dupont@example.com</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Téléphone</dt>
              <dd class="font-medium text-olak-dark">06 12 34 56 78</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Type</dt>
              <dd class="font-medium text-olak-dark">Personne physique</dd>
            </div>
          </dl>
        </div>

        <!-- Lease Terms -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <h2 class="text-2xl font-semibold text-olak-dark mb-6">Conditions du bail</h2>
          <dl class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <dt class="text-gray-600 mb-1">Date de début</dt>
              <dd class="font-medium text-olak-dark">01 décembre 2024</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Durée</dt>
              <dd class="font-medium text-olak-dark">12 mois (renouvelable)</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Loyer mensuel</dt>
              <dd class="font-medium text-olak-dark text-lg">1 200 €</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Charges</dt>
              <dd class="font-medium text-olak-dark">150 €</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Dépôt de garantie versé</dt>
              <dd class="font-medium text-olak-dark">2 400 €</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Date de fin prévue</dt>
              <dd class="font-medium text-olak-dark">30 novembre 2025</dd>
            </div>
          </dl>
        </div>

      </div>

      <!-- Sidebar -->
      <div class="space-y-6">
        
        <!-- Action Buttons -->
        <div class="bg-white rounded-xl shadow-md p-6">
          <h3 class="text-xl font-semibold text-olak-dark mb-4">Actions</h3>
          
          <div class="space-y-3">
            <%= link_to preview_tenant_lease_path(id: params[:id] || 1), class: "w-full btn-secondary flex items-center justify-center gap-2" do %>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
                <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
              </svg>
              Prévisualiser le bail
            <% end %>
            
            <%= link_to download_tenant_lease_path(id: params[:id] || 1), class: "w-full btn-primary flex items-center justify-center gap-2" do %>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
              Télécharger le bail
            <% end %>
          </div>
        </div>

        <!-- Lease Info -->
        <div class="bg-white rounded-xl shadow-md p-6">
          <h3 class="text-xl font-semibold text-olak-dark mb-4">Informations</h3>
          <dl class="space-y-3 text-sm">
            <div>
              <dt class="text-gray-600 mb-1">Numéro de bail</dt>
              <dd class="font-medium text-olak-dark">#<%= params[:id] || '1' %></dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Généré le</dt>
              <dd class="font-medium text-olak-dark">14 novembre 2024</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Plateforme de signature</dt>
              <dd class="font-medium text-olak-dark">SignNow</dd>
            </div>
            <div>
              <dt class="text-gray-600 mb-1">Statut</dt>
              <dd><span class="badge badge-success">Signé par les deux parties</span></dd>
            </div>
          </dl>
        </div>

        <!-- Documents -->
        <div class="bg-white rounded-xl shadow-md p-6">
          <h3 class="text-xl font-semibold text-olak-dark mb-4">Documents associés</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-center gap-2">
              <svg class="w-4 h-4 text-olak-primary" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
              </svg>
              <a href="#" class="text-olak-primary hover:text-olak-primary-dark hover:underline">Bail signé (PDF)</a>
            </li>
            <li class="flex items-center gap-2">
              <svg class="w-4 h-4 text-olak-primary" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
              </svg>
              <a href="#" class="text-olak-primary hover:text-olak-primary-dark hover:underline">État des lieux (à venir)</a>
            </li>
            <li class="flex items-center gap-2">
              <svg class="w-4 h-4 text-olak-primary" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
              </svg>
              <a href="#" class="text-olak-primary hover:text-olak-primary-dark hover:underline">Notice d'information</a>
            </li>
          </ul>
        </div>

        <!-- Next Steps -->
        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg">
          <div class="flex items-start">
            <svg class="w-6 h-6 text-blue-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
            </svg>
            <div>
              <p class="text-sm text-blue-800 font-semibold mb-1">Prochaines étapes</p>
              <ul class="text-xs text-blue-700 space-y-1">
                <li>• État des lieux prévu le 30/11/2024</li>
                <li>• Remise des clés le 01/12/2024</li>
                <li>• Premier loyer à régler avant l'entrée</li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>